<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:SyncTrip.App.Features.Authentication.ViewModels"
             x:Class="SyncTrip.App.Features.Authentication.Views.RegistrationView"
             x:DataType="vm:RegistrationViewModel">

    <ScrollViewer>
        <StackPanel Margin="30" Spacing="20">

            <TextBlock Text="Bienvenue sur SyncTrip !"
                       FontSize="28"
                       FontWeight="Bold"
                       Margin="0,20,0,10" />

            <TextBlock Text="Creons votre compte"
                       FontSize="16"
                       Foreground="{DynamicResource Gray500Brush}"
                       Margin="0,0,0,20" />

            <!-- Username -->
            <TextBlock Text="Pseudo *" FontSize="14" FontWeight="Bold" />
            <Border BorderBrush="{DynamicResource Gray300Brush}" BorderThickness="1" CornerRadius="10" Padding="15,8">
                <TextBox Watermark="Votre pseudo" Text="{Binding Username}" MaxLength="50" BorderThickness="0" />
            </Border>

            <!-- FirstName -->
            <TextBlock Text="Prenom" FontSize="14" FontWeight="Bold" />
            <Border BorderBrush="{DynamicResource Gray300Brush}" BorderThickness="1" CornerRadius="10" Padding="15,8">
                <TextBox Watermark="Votre prenom (optionnel)" Text="{Binding FirstName}" BorderThickness="0" />
            </Border>

            <!-- LastName -->
            <TextBlock Text="Nom" FontSize="14" FontWeight="Bold" />
            <Border BorderBrush="{DynamicResource Gray300Brush}" BorderThickness="1" CornerRadius="10" Padding="15,8">
                <TextBox Watermark="Votre nom (optionnel)" Text="{Binding LastName}" BorderThickness="0" />
            </Border>

            <!-- BirthDate -->
            <TextBlock Text="Date de naissance *" FontSize="14" FontWeight="Bold" />
            <Border BorderBrush="{DynamicResource Gray300Brush}" BorderThickness="1" CornerRadius="10" Padding="15,8">
                <CalendarDatePicker SelectedDate="{Binding BirthDate}" />
            </Border>

            <TextBlock Text="Vous devez avoir plus de 14 ans"
                       FontSize="12"
                       Foreground="{DynamicResource WarningBrush}"
                       Margin="0,-10,0,0" />

            <!-- Register Button -->
            <Button Content="Creer mon compte"
                    Command="{Binding CompleteRegistrationCommand}"
                    IsEnabled="{Binding IsBusy, Converter={StaticResource InvertedBoolConverter}}"
                    Height="50"
                    CornerRadius="25"
                    FontWeight="Bold"
                    Background="{DynamicResource PrimaryBrush}"
                    Foreground="White"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Center"
                    Margin="0,20,0,0" />

            <!-- Loading -->
            <ProgressBar IsVisible="{Binding IsBusy}" IsIndeterminate="True" Height="4" />

            <!-- Error Message -->
            <Border IsVisible="{Binding ErrorMessage, Converter={StaticResource IsNotNullOrEmptyConverter}}"
                    BorderBrush="{DynamicResource ErrorBrush}"
                    BorderThickness="1"
                    CornerRadius="10"
                    Padding="15">
                <TextBlock Text="{Binding ErrorMessage}"
                           Foreground="{DynamicResource ErrorBrush}"
                           HorizontalAlignment="Center"
                           TextWrapping="Wrap"
                           TextAlignment="Center" />
            </Border>

        </StackPanel>
    </ScrollViewer>

</UserControl>
